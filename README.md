# ๐ค SubAgentsTest - KMP ั AI-ะฐััะธััะตะฝัะพะผ

![Kotlin](https://img.shields.io/badge/Kotlin-2.0.21-blue.svg)
![Compose Multiplatform](https://img.shields.io/badge/Compose%20Multiplatform-1.7.3-green.svg)
![Platforms](https://img.shields.io/badge/platforms-Android%20%7C%20iOS%20%7C%20Desktop%20%7C%20Web-orange.svg)
![AI](https://img.shields.io/badge/AI-Claude%20%2B%20RAG-purple.svg)

ะัะพััะฟะปะฐััะพัะผะตะฝะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะผะตัะบะฐะผะธ ั **ะธะฝัะตะณัะฐัะธะตะน Claude Code CLI + RAG** ะดะปั ัะฐะฑะพัั ั ะดะพะบัะผะตะฝัะฐัะธะตะน ะฟัะพะตะบัะฐ. ะะพัััะพะตะฝะพ ะฝะฐ **Kotlin Multiplatform**, **Compose Multiplatform** ะธ **Clean Architecture**.

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะะฑะทะพั](#-ะพะฑะทะพั)
- [๐ค AI-ะััะธััะตะฝั (Claude + RAG)](#-ai-ะฐััะธััะตะฝั-ะดะปั-ะดะพะบัะผะตะฝัะฐัะธะธ)
- [ะคัะฝะบัะธะพะฝะฐะป](#-ััะฝะบัะธะพะฝะฐะป)
- [ะััะธัะตะบัััะฐ](#-ะฐััะธัะตะบัััะฐ)
- [ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ะกัะตะบ](#-ัะตัะฝะพะปะพะณะธัะตัะบะธะน-ััะตะบ)
- [ะกัััะบัััะฐ ะัะพะตะบัะฐ](#-ััััะบัััะฐ-ะฟัะพะตะบัะฐ)
- [ะฃััะฐะฝะพะฒะบะฐ ะธ ะะฐะฟััะบ](#-ัััะฐะฝะพะฒะบะฐ-ะธ-ะทะฐะฟััะบ)
- [ะะฐะฑะพัะฐ ั ะัะธะปะพะถะตะฝะธะตะผ](#-ัะฐะฑะพัะฐ-ั-ะฟัะธะปะพะถะตะฝะธะตะผ)
- [ะะฐะทัะฐะฑะพัะบะฐ](#-ัะฐะทัะฐะฑะพัะบะฐ)
- [ะะฐะทะฐ ะะฐะฝะฝัั](#-ะฑะฐะทะฐ-ะดะฐะฝะฝัั)

---

## ๐ฏ ะะฑะทะพั

**SubAgentsTest** โ ััะพ ะผะตะฝะตะดะถะตั ะทะฐะผะตัะพะบ ั ะธะตัะฐััะธัะตัะบะพะน ะพัะณะฐะฝะธะทะฐัะธะตะน ัะตัะตะท ะบะฐัะตะณะพัะธะธ + **AI-ะฐััะธััะตะฝั ั RAG** ะดะปั ัะฐะฑะพัั ั ะดะพะบัะผะตะฝัะฐัะธะตะน ะฟัะพะตะบัะฐ. ะัะธะปะพะถะตะฝะธะต ะดะตะผะพะฝัััะธััะตั best practices ัะฐะทัะฐะฑะพัะบะธ KMP:

- โ **Clean Architecture** ั ัะฐะทะดะตะปะตะฝะธะตะผ ะฝะฐ ัะปะพะธ (Data/Domain/Presentation)
- โ **Feature Slicing** โ ะผะพะดัะปัะฝะฐั ะพัะณะฐะฝะธะทะฐัะธั ะบะพะดะฐ ะฟะพ ัะธัะฐะผ
- โ **Dependency Injection** ั Koin
- โ **Reactive Programming** ั Kotlin Coroutines ะธ Flow
- โ **Type-safe Database** ั SQLDelight
- โ **Single Source of Truth** ะดะปั UI ัะพััะพัะฝะธะน
- ๐ค **Claude Code CLI + RAG** โ ะธะฝัะตะปะปะตะบััะฐะปัะฝัะน ะฟะพะธัะบ ะฟะพ ะดะพะบัะผะตะฝัะฐัะธะธ (485+ ััะฐะณะผะตะฝัะพะฒ)

### ๐ AI-ะััะธััะตะฝั ะดะปั ะะพะบัะผะตะฝัะฐัะธะธ

ะัะพะตะบั ะฒะบะปััะฐะตั ะฟะพะปะฝัั ะธะฝัะตะณัะฐัะธั ั **Claude Code CLI**:
- ๐ **RAG ัะธััะตะผะฐ** - ะธะฝะดะตะบัะฐัะธั 9 MD ัะฐะนะปะพะฒ (485 ััะฐะณะผะตะฝัะพะฒ)
- ๐ **ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ** ะฟะพ ะดะพะบัะผะตะฝัะฐัะธะธ
- ๐ง **Git ะบะพะฝัะตะบัั** - ัะตะบััะฐั ะฒะตัะบะฐ, ะธะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั, ะบะพะผะผะธัั
- ๐ฌ **ะะพะผะฐะฝะดั /help** - ะฑััััะฐั ัะฟัะฐะฒะบะฐ ะฟะพ ะฐััะธัะตะบัััะต ะธ ะฟะฐััะตัะฝะฐะผ
- โก **ะะณะฝะพะฒะตะฝะฝัะต ะพัะฒะตัั** - ะฟะพะธัะบ ะทะฐ ~0.1 ัะตะบ

**ะะพะดัะพะฑะฝะตะต:** [.claude/README.md](.claude/README.md)

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะะปะฐััะพัะผั

| ะะปะฐััะพัะผะฐ | ะกัะฐััั | ะะธะฝะธะผะฐะปัะฝะฐั ะฒะตััะธั |
|-----------|--------|-------------------|
| **Android** | โ ะะพะปะฝะพัััั ะฟะพะดะดะตัะถะธะฒะฐะตััั | API 24 (Android 7.0) |
| **iOS** | โ ะะพะปะฝะพัััั ะฟะพะดะดะตัะถะธะฒะฐะตััั | iOS 15+ |
| **Desktop (macOS)** | โ ะะพะปะฝะพัััั ะฟะพะดะดะตัะถะธะฒะฐะตััั | macOS 10.15+ |
| **Web (Browser)** | โ ะะพะปะฝะพัััั ะฟะพะดะดะตัะถะธะฒะฐะตััั | ะกะพะฒัะตะผะตะฝะฝัะต ะฑัะฐัะทะตัั |

---

## ๐ ะคัะฝะบัะธะพะฝะฐะป

### 1. ะฃะฟัะฐะฒะปะตะฝะธะต ะะฐัะตะณะพัะธัะผะธ

#### ะะพะทะผะพะถะฝะพััะธ:
- โจ **ะกะพะทะดะฐะฝะธะต ะบะฐัะตะณะพัะธะน** ั ะฝะฐะทะฒะฐะฝะธะตะผ ะธ ัะฒะตัะพะผ
- ๐ **ะัะพัะผะพัั ะฒัะตั ะบะฐัะตะณะพัะธะน** ะฒ ะฒะธะดะต ัะฟะธัะบะฐ
- ๐จ **ะฆะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั** ะดะปั ะฒะธะทัะฐะปัะฝะพะณะพ ัะฐะทะปะธัะธั
- ๐๏ธ **ะฃะดะฐะปะตะฝะธะต ะบะฐัะตะณะพัะธะน** ั ะบะฐัะบะฐะดะฝัะผ ัะดะฐะปะตะฝะธะตะผ ะฒะปะพะถะตะฝะฝัั ะทะฐะผะตัะพะบ
- ๐ **ะะตะฐะบัะธะฒะฝะพะต ะพะฑะฝะพะฒะปะตะฝะธะต** UI ะฟัะธ ะธะทะผะตะฝะตะฝะธัั

#### ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั:
1. ะัะบัะพะนัะต ะฟัะธะปะพะถะตะฝะธะต โ ะฟะพ ัะผะพะปัะฐะฝะธั ะพัะบััะฒะฐะตััั ัะบัะฐะฝ ะบะฐัะตะณะพัะธะน
2. ะะฐะถะผะธัะต ะบะฝะพะฟะบั **"ะะพะฑะฐะฒะธัั"** ะฒ ะฒะตััะฝะตะผ ะฟัะฐะฒะพะผ ัะณะปั
3. ะะฒะตะดะธัะต ะฝะฐะทะฒะฐะฝะธะต ะบะฐัะตะณะพัะธะธ
4. ะัะฑะตัะธัะต ัะฒะตั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
5. ะะฐะถะผะธัะต **"ะกะพะทะดะฐัั"**

ะะปั ัะดะฐะปะตะฝะธั ะบะฐัะตะณะพัะธะธ ะฝะฐะถะผะธัะต ะฝะฐ ะธะบะพะฝะบั ะบะพัะทะธะฝั ััะดะพะผ ั ะบะฐัะตะณะพัะธะตะน.

### 2. ะฃะฟัะฐะฒะปะตะฝะธะต ะะฐะผะตัะบะฐะผะธ

#### ะะพะทะผะพะถะฝะพััะธ:
- โ๏ธ **ะกะพะทะดะฐะฝะธะต ะทะฐะผะตัะพะบ** ะฒะฝัััะธ ะบะฐัะตะณะพัะธะน
- ๐ **ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะทะฐะผะตัะพะบ** (ะทะฐะณะพะปะพะฒะพะบ ะธ ัะพะดะตัะถะธะผะพะต)
- ๐ **ะะพะธัะบ ะฟะพ ะทะฐะผะตัะบะฐะผ** ั debounce (300ms)
- ๐ **ะกะพััะธัะพะฒะบะฐ** ะฟะพ ะดะฐัะต ะพะฑะฝะพะฒะปะตะฝะธั (ะฝะพะฒัะต ัะฒะตััั)
- ๐๏ธ **ะฃะดะฐะปะตะฝะธะต ะทะฐะผะตัะพะบ**
- โฉ๏ธ **ะะฐะฒะธะณะฐัะธั ะฝะฐะทะฐะด** ะบ ัะฟะธัะบั ะบะฐัะตะณะพัะธะน

#### ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั:
1. ะัะฑะตัะธัะต ะบะฐัะตะณะพัะธั ะธะท ัะฟะธัะบะฐ
2. ะัะบัะพะตััั ัะบัะฐะฝ ะทะฐะผะตัะพะบ ััะพะน ะบะฐัะตะณะพัะธะธ
3. ะะปั ัะพะทะดะฐะฝะธั ะทะฐะผะตัะบะธ ะฝะฐะถะผะธัะต **"ะะพะฑะฐะฒะธัั ะทะฐะผะตัะบั"**
4. ะะฒะตะดะธัะต ะทะฐะณะพะปะพะฒะพะบ ะธ ัะพะดะตัะถะธะผะพะต
5. ะะฐะถะผะธัะต **"ะกะพััะฐะฝะธัั"**

ะะปั ะฟะพะธัะบะฐ ะธัะฟะพะปัะทัะนัะต ะฟะพะปะต ะฟะพะธัะบะฐ ะฒ ะฒะตััะฝะตะน ัะฐััะธ ัะบัะฐะฝะฐ โ ัะตะทัะปััะฐัั ัะธะปัััััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ.

### 3. ะะพะธัะบ

#### ะะพะทะผะพะถะฝะพััะธ:
- ๐ **ะะพะปะฝะพัะตะบััะพะฒัะน ะฟะพะธัะบ** ะฟะพ ะทะฐะณะพะปะพะฒะบะฐะผ ะธ ัะพะดะตัะถะธะผะพะผั ะทะฐะผะตัะพะบ
- โก **Debounce** ะดะปั ะพะฟัะธะผะธะทะฐัะธะธ ะทะฐะฟัะพัะพะฒ
- ๐ฏ **ะะพะธัะบ ะฒ ัะฐะผะบะฐั ะบะฐัะตะณะพัะธะธ**
- ๐ฑ **ะะตะฐะบัะธะฒะฝะพะต ะพะฑะฝะพะฒะปะตะฝะธะต** ัะตะทัะปััะฐัะพะฒ

---

## ๐๏ธ ะััะธัะตะบัััะฐ

ะัะพะตะบั ัะปะตะดัะตั ะฟัะธะฝัะธะฟะฐะผ **Clean Architecture** ั ัะฐะทะดะตะปะตะฝะธะตะผ ะฝะฐ 3 ัะปะพั:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        Presentation Layer               โ
โ  (ViewModels, UI State, Compose UI)     โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
โ          Domain Layer                   โ
โ  (Use Cases, Models, Repositories)      โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
โ           Data Layer                    โ
โ  (Repository Impl, Data Sources, DB)    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะกะปะพะธ

#### 1. **Presentation Layer** (UI)
- **Compose Multiplatform** ะดะปั UI
- **ViewModels** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะพััะพัะฝะธะตะผ
- **StateFlow** ะดะปั ัะตะฐะบัะธะฒะฝะพะณะพ ัะพััะพัะฝะธั
- **SharedFlow** ะดะปั ะพะดะฝะพัะฐะทะพะฒัั ัะพะฑััะธะน

**ะะพะผะฟะพะฝะตะฝัั:**
- `CategoriesListScreen` โ ัะบัะฐะฝ ัะฟะธัะบะฐ ะบะฐัะตะณะพัะธะน
- `NotesListScreen` โ ัะบัะฐะฝ ะทะฐะผะตัะพะบ
- `CategoriesViewModel` โ ะปะพะณะธะบะฐ ะบะฐัะตะณะพัะธะน
- `NotesViewModel` โ ะปะพะณะธะบะฐ ะทะฐะผะตัะพะบ ั ะฟะพะธัะบะพะผ

#### 2. **Domain Layer** (ะะธะทะฝะตั-ะปะพะณะธะบะฐ)
- **Use Cases** โ ะธะทะพะปะธัะพะฒะฐะฝะฝัะต ะฑะธะทะฝะตั-ะพะฟะตัะฐัะธะธ
- **Domain Models** โ ัะธัััะต data ะบะปะฐััั
- **Repository Interfaces** โ ะบะพะฝััะฐะบัั ะดะปั ะดะฐะฝะฝัั

**Use Cases:**

*ะะฐัะตะณะพัะธะธ:*
- `GetCategoriesUseCase` โ ะฟะพะปััะตะฝะธะต ะฒัะตั ะบะฐัะตะณะพัะธะน
- `CreateCategoryUseCase` โ ัะพะทะดะฐะฝะธะต ะบะฐัะตะณะพัะธะธ
- `UpdateCategoryUseCase` โ ะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธะธ
- `DeleteCategoryUseCase` โ ัะดะฐะปะตะฝะธะต ะบะฐัะตะณะพัะธะธ

*ะะฐะผะตัะบะธ:*
- `GetNotesByCategoryUseCase` โ ะทะฐะผะตัะบะธ ะฟะพ ะบะฐัะตะณะพัะธะธ
- `SearchNotesUseCase` โ ะฟะพะธัะบ ะทะฐะผะตัะพะบ
- `CreateNoteUseCase` โ ัะพะทะดะฐะฝะธะต ะทะฐะผะตัะบะธ
- `UpdateNoteUseCase` โ ะพะฑะฝะพะฒะปะตะฝะธะต ะทะฐะผะตัะบะธ
- `DeleteNoteUseCase` โ ัะดะฐะปะตะฝะธะต ะทะฐะผะตัะบะธ

#### 3. **Data Layer** (ะััะพัะฝะธะบะธ ะดะฐะฝะฝัั)
- **SQLDelight** ะดะปั ะปะพะบะฐะปัะฝะพะน ะะ
- **Repository Implementations**
- **Local Data Sources**
- **Mappers** (Entity โ Domain Model)

---

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ะกัะตะบ

### Core
- **Kotlin** 2.0.21
- **Kotlin Multiplatform** ะดะปั ะบัะพััะฟะปะฐััะพัะผะตะฝะฝะพััะธ
- **Coroutines** 1.10.1 ะดะปั ะฐัะธะฝััะพะฝะฝะพััะธ
- **Serialization** 1.7.3 ะดะปั ัะตัะธะฐะปะธะทะฐัะธะธ
- **DateTime** 0.6.1 ะดะปั ัะฐะฑะพัั ั ะดะฐัะฐะผะธ

### UI
- **Compose Multiplatform** 1.7.3
- **Material Design 3** ะดะปั ะบะพะผะฟะพะฝะตะฝัะพะฒ UI
- **Compose Resources** ะดะปั ัะตััััะพะฒ

### Dependency Injection
- **Koin** 4.0.1
- `koin-core` โ ะพะฑัะฐั DI
- `koin-compose` โ ะธะฝัะตะณัะฐัะธั ั Compose
- `koin-compose-viewmodel` โ ViewModels

### Database
- **SQLDelight** 2.0.2
- ะขะธะฟะพะฑะตะทะพะฟะฐัะฝัะต SQL ะทะฐะฟัะพัั
- ะัะพััะฟะปะฐััะพัะผะตะฝะฝัะต ะดัะฐะนะฒะตัั:
  - `android-driver` ะดะปั Android
  - `native-driver` ะดะปั iOS
  - `sqlite-driver` ะดะปั Desktop
  - `web-worker-driver` ะดะปั Web

### Build System
- **Gradle** 8.13.2
- **Android Gradle Plugin** 8.13.2
- Kotlin DSL ะดะปั build ัะบัะธะฟัะพะฒ

---

## ๐ ะกัััะบัััะฐ ะัะพะตะบัะฐ

```
SubAgentsTest/
โโโ composeApp/                              # ะัะฝะพะฒะฝะพะน ะผะพะดัะปั ะฟัะธะปะพะถะตะฝะธั
โ   โโโ src/
โ   โ   โโโ commonMain/                      # ะะฑัะธะน ะบะพะด ะดะปั ะฒัะตั ะฟะปะฐััะพัะผ
โ   โ   โ   โโโ kotlin/
โ   โ   โ   โ   โโโ ru/macdroid/subagentstest/
โ   โ   โ   โ       โโโ App.kt              # ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั
โ   โ   โ   โ       โโโ core/               # ะัะฝะพะฒะฝัะต ััะธะปะธัั
โ   โ   โ   โ       โ   โโโ di/            # Koin ะผะพะดัะปะธ
โ   โ   โ   โ       โ   โ   โโโ CoreModule.kt
โ   โ   โ   โ       โ   โ   โโโ DatabaseModule.kt
โ   โ   โ   โ       โ   โ   โโโ KoinInitializer.kt
โ   โ   โ   โ       โ   โโโ database/      # ะะฐัััะพะนะบะฐ ะะ
โ   โ   โ   โ       โ   โ   โโโ DriverFactory.kt
โ   โ   โ   โ       โ   โโโ util/          # ะฃัะธะปะธัั
โ   โ   โ   โ       โ       โโโ Result.kt
โ   โ   โ   โ       โโโ features/          # ะะพะดัะปะธ ัะธั
โ   โ   โ   โ       โ   โโโ categories/    # ะคะธัะฐ "ะะฐัะตะณะพัะธะธ"
โ   โ   โ   โ       โ   โ   โโโ data/
โ   โ   โ   โ       โ   โ   โ   โโโ local/
โ   โ   โ   โ       โ   โ   โ   โ   โโโ CategoryLocalDataSource.kt
โ   โ   โ   โ       โ   โ   โ   โโโ repository/
โ   โ   โ   โ       โ   โ   โ       โโโ CategoryRepositoryImpl.kt
โ   โ   โ   โ       โ   โ   โโโ domain/
โ   โ   โ   โ       โ   โ   โ   โโโ model/
โ   โ   โ   โ       โ   โ   โ   โ   โโโ Category.kt
โ   โ   โ   โ       โ   โ   โ   โโโ repository/
โ   โ   โ   โ       โ   โ   โ   โ   โโโ CategoryRepository.kt
โ   โ   โ   โ       โ   โ   โ   โโโ usecase/
โ   โ   โ   โ       โ   โ   โ       โโโ GetCategoriesUseCase.kt
โ   โ   โ   โ       โ   โ   โ       โโโ CreateCategoryUseCase.kt
โ   โ   โ   โ       โ   โ   โ       โโโ UpdateCategoryUseCase.kt
โ   โ   โ   โ       โ   โ   โ       โโโ DeleteCategoryUseCase.kt
โ   โ   โ   โ       โ   โ   โโโ presentation/
โ   โ   โ   โ       โ   โ   โ   โโโ list/
โ   โ   โ   โ       โ   โ   โ   โ   โโโ CategoriesListScreen.kt
โ   โ   โ   โ       โ   โ   โ   โโโ viewmodel/
โ   โ   โ   โ       โ   โ   โ       โโโ CategoriesViewModel.kt
โ   โ   โ   โ       โ   โ   โโโ di/
โ   โ   โ   โ       โ   โ       โโโ CategoriesModule.kt
โ   โ   โ   โ       โ   โโโ notes/          # ะคะธัะฐ "ะะฐะผะตัะบะธ"
โ   โ   โ   โ       โ       โโโ data/
โ   โ   โ   โ       โ       โ   โโโ local/
โ   โ   โ   โ       โ       โ   โ   โโโ NoteLocalDataSource.kt
โ   โ   โ   โ       โ       โ   โโโ repository/
โ   โ   โ   โ       โ       โ       โโโ NoteRepositoryImpl.kt
โ   โ   โ   โ       โ       โโโ domain/
โ   โ   โ   โ       โ       โ   โโโ model/
โ   โ   โ   โ       โ       โ   โ   โโโ Note.kt
โ   โ   โ   โ       โ       โ   โโโ repository/
โ   โ   โ   โ       โ       โ   โ   โโโ NoteRepository.kt
โ   โ   โ   โ       โ       โ   โโโ usecase/
โ   โ   โ   โ       โ       โ       โโโ GetNotesByCategoryUseCase.kt
โ   โ   โ   โ       โ       โ       โโโ SearchNotesUseCase.kt
โ   โ   โ   โ       โ       โ       โโโ CreateNoteUseCase.kt
โ   โ   โ   โ       โ       โ       โโโ UpdateNoteUseCase.kt
โ   โ   โ   โ       โ       โ       โโโ DeleteNoteUseCase.kt
โ   โ   โ   โ       โ       โโโ presentation/
โ   โ   โ   โ       โ       โ   โโโ list/
โ   โ   โ   โ       โ       โ   โ   โโโ NotesListScreen.kt
โ   โ   โ   โ       โ       โ   โโโ viewmodel/
โ   โ   โ   โ       โ       โ       โโโ NotesViewModel.kt
โ   โ   โ   โ       โ       โโโ di/
โ   โ   โ   โ       โ           โโโ NotesModule.kt
โ   โ   โ   โ       โโโ ui/                 # ะะฑัะธะต UI ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โ   โ           โโโ theme/
โ   โ   โ   โ               โโโ Color.kt
โ   โ   โ   โ               โโโ Theme.kt
โ   โ   โ   โ               โโโ Type.kt
โ   โ   โ   โโโ sqldelight/                 # SQL ััะตะผั
โ   โ   โ       โโโ ru/macdroid/subagentstest/database/
โ   โ   โ           โโโ Category.sq
โ   โ   โ           โโโ Note.sq
โ   โ   โโโ androidMain/                    # Android-ัะฟะตัะธัะธัะฝัะน ะบะพะด
โ   โ   โ   โโโ kotlin/
โ   โ   โ       โโโ ru/macdroid/subagentstest/
โ   โ   โ           โโโ MainActivity.kt
โ   โ   โ           โโโ core/
โ   โ   โ               โโโ database/
โ   โ   โ               โ   โโโ DriverFactory.android.kt
โ   โ   โ               โโโ di/
โ   โ   โ                   โโโ PlatformModule.android.kt
โ   โ   โโโ iosMain/                        # iOS-ัะฟะตัะธัะธัะฝัะน ะบะพะด
โ   โ   โ   โโโ kotlin/
โ   โ   โ       โโโ ru/macdroid/subagentstest/
โ   โ   โ           โโโ Main.ios.kt
โ   โ   โ           โโโ core/
โ   โ   โ               โโโ database/
โ   โ   โ               โ   โโโ DriverFactory.ios.kt
โ   โ   โ               โโโ di/
โ   โ   โ                   โโโ PlatformModule.ios.kt
โ   โ   โโโ desktopMain/                    # Desktop-ัะฟะตัะธัะธัะฝัะน ะบะพะด
โ   โ   โ   โโโ kotlin/
โ   โ   โ       โโโ ru/macdroid/subagentstest/
โ   โ   โ           โโโ Main.kt
โ   โ   โ           โโโ core/
โ   โ   โ               โโโ database/
โ   โ   โ               โ   โโโ DriverFactory.desktop.kt
โ   โ   โ               โโโ di/
โ   โ   โ                   โโโ PlatformModule.desktop.kt
โ   โ   โโโ jsMain/                         # Web-ัะฟะตัะธัะธัะฝัะน ะบะพะด
โ   โ       โโโ kotlin/
โ   โ           โโโ ru/macdroid/subagentstest/
โ   โ               โโโ Main.js.kt
โ   โ               โโโ core/
โ   โ                   โโโ database/
โ   โ                   โ   โโโ DriverFactory.js.kt
โ   โ                   โโโ di/
โ   โ                       โโโ PlatformModule.js.kt
โ   โโโ build.gradle.kts                    # ะะพะฝัะธะณััะฐัะธั ัะฑะพัะบะธ
โโโ gradle/
โ   โโโ libs.versions.toml                  # ะะตััะธะธ ะทะฐะฒะธัะธะผะพััะตะน
โ   โโโ wrapper/
โโโ build.gradle.kts                        # ะะพัะฝะตะฒะฐั ะบะพะฝัะธะณััะฐัะธั
โโโ settings.gradle.kts                     # ะะฐัััะพะนะบะธ ะฟัะพะตะบัะฐ
```

### ะัะธะฝัะธะฟ ะพัะณะฐะฝะธะทะฐัะธะธ ัะธั (Feature Slicing)

ะะฐะถะดะฐั ัะธัะฐ ะธะผะตะตั ะพะดะธะฝะฐะบะพะฒัั ััััะบัััั:

```
feature/
โโโ data/              # ะะตะฐะปะธะทะฐัะธั ะธััะพัะฝะธะบะพะฒ ะดะฐะฝะฝัั
โ   โโโ local/        # ะะพะบะฐะปัะฝัะต ะธััะพัะฝะธะบะธ (SQLDelight)
โ   โโโ repository/   # ะะตะฐะปะธะทะฐัะธั ัะตะฟะพะทะธัะพัะธะตะฒ
โโโ domain/           # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ model/       # ะะพะผะตะฝะฝัะต ะผะพะดะตะปะธ
โ   โโโ repository/  # ะะฝัะตััะตะนัั ัะตะฟะพะทะธัะพัะธะตะฒ
โ   โโโ usecase/     # Use cases
โโโ presentation/     # UI ะธ ัะพััะพัะฝะธะต
โ   โโโ list/        # ะญะบัะฐะฝั ัะฟะธัะบะพะฒ
โ   โโโ detail/      # ะญะบัะฐะฝั ะดะตัะฐะปะตะน (ะตัะปะธ ะตััั)
โ   โโโ viewmodel/   # ViewModels
โโโ di/              # Koin ะผะพะดัะปั ัะธัะธ
```

---

## ๐ง ะฃััะฐะฝะพะฒะบะฐ ะธ ะะฐะฟััะบ

### ะขัะตะฑะพะฒะฐะฝะธั

- **JDK** 11 ะธะปะธ ะฒััะต
- **Android Studio** Hedgehog (2023.1.1) ะธะปะธ ะฝะพะฒะตะต
- **Xcode** 15+ (ะดะปั iOS)
- **macOS** 10.15+ (ะดะปั Desktop ะธ iOS ัะฑะพัะพะบ)

### ะะปะพะฝะธัะพะฒะฐะฝะธะต ะฟัะพะตะบัะฐ

```bash
git clone <repository-url>
cd SubAgentsTest
```

### ะะฐะฟััะบ ะฝะฐ ัะฐะทะฝัั ะฟะปะฐััะพัะผะฐั

#### ๐ค Android

1. ะัะบัะพะนัะต ะฟัะพะตะบั ะฒ Android Studio
2. ะกะธะฝััะพะฝะธะทะธััะนัะต Gradle
3. ะัะฑะตัะธัะต ะบะพะฝัะธะณััะฐัะธั `composeApp` 
4. ะะฐะถะผะธัะต **Run** ะธะปะธ ะธัะฟะพะปัะทัะนัะต:

```bash
./gradlew :composeApp:installDebug
```

#### ๐ iOS

1. ะัะบัะพะนัะต ะฟัะพะตะบั ะฒ Android Studio
2. ะฃะฑะตะดะธัะตัั ััะพ ัััะฐะฝะพะฒะปะตะฝั iOS targets
3. ะัะฑะตัะธัะต iOS ะบะพะฝัะธะณััะฐัะธั
4. ะะฐะถะผะธัะต **Run**

ะะปะธ ัะตัะตะท ะบะพะผะฐะฝะดะฝัั ัััะพะบั:

```bash
./gradlew :composeApp:iosSimulatorArm64MainBinaries
```

#### ๐ฅ๏ธ Desktop (macOS)

```bash
./gradlew :composeApp:runDebugExecutableDesktop
```

ะะปะธ ะธะท Android Studio: ะฒัะฑะตัะธัะต `desktop` run configuration.

#### ๐ Web (Browser)

```bash
./gradlew :composeApp:jsBrowserDevelopmentRun
```

ะัะธะปะพะถะตะฝะธะต ะพัะบัะพะตััั ะฒ ะฑัะฐัะทะตัะต ะฟะพ ะฐะดัะตัั `http://localhost:8080`

---

## ๐ฑ ะะฐะฑะพัะฐ ั ะัะธะปะพะถะตะฝะธะตะผ

### ะญะบัะฐะฝ ะะฐัะตะณะพัะธะน

ะัะธ ะทะฐะฟััะบะต ะฟัะธะปะพะถะตะฝะธั ะพัะบััะฒะฐะตััั ัะฟะธัะพะบ ะบะฐัะตะณะพัะธะน.

**ะะตะนััะฒะธั:**
- **ะกะพะทะดะฐัั ะบะฐัะตะณะพัะธั**: ะะฝะพะฟะบะฐ "ะะพะฑะฐะฒะธัั" โ ะทะฐะฟะพะปะฝะธัั ัะพัะผั โ "ะกะพะทะดะฐัั"
- **ะัะบัััั ะทะฐะผะตัะบะธ**: ะะฐะถะฐัั ะฝะฐ ะบะฐััะพัะบั ะบะฐัะตะณะพัะธะธ
- **ะฃะดะฐะปะธัั ะบะฐัะตะณะพัะธั**: ะะฐะถะฐัั ะธะบะพะฝะบั ะบะพัะทะธะฝั (ัะดะฐะปัััั ะฒัะต ะทะฐะผะตัะบะธ ะฒะฝัััะธ)

**UI ัะพััะพัะฝะธั:**
- `Loading` โ ะทะฐะณััะทะบะฐ ะดะฐะฝะฝัั (ะฟะพะบะฐะทัะฒะฐะตััั ะธะฝะดะธะบะฐัะพั)
- `Empty` โ ะฝะตั ะบะฐัะตะณะพัะธะน (ะฟะพะบะฐะทัะฒะฐะตััั ะฟัััะพะต ัะพััะพัะฝะธะต)
- `Success` โ ัะฟะธัะพะบ ะบะฐัะตะณะพัะธะน
- `Error` โ ะพัะธะฑะบะฐ ะทะฐะณััะทะบะธ

### ะญะบัะฐะฝ ะะฐะผะตัะพะบ

ะะพัะปะต ะฒัะฑะพัะฐ ะบะฐัะตะณะพัะธะธ ะพัะบััะฒะฐะตััั ัะฟะธัะพะบ ะตั ะทะฐะผะตัะพะบ.

**ะะตะนััะฒะธั:**
- **ะกะพะทะดะฐัั ะทะฐะผะตัะบั**: ะะฝะพะฟะบะฐ "ะะพะฑะฐะฒะธัั ะทะฐะผะตัะบั" โ ะทะฐะฟะพะปะฝะธัั ัะพัะผั โ "ะกะพััะฐะฝะธัั"
- **ะะพะธัะบ**: ะะฒะตััะธ ัะตะบัั ะฒ ะฟะพะปะต ะฟะพะธัะบะฐ (ะฐะฒัะพะผะฐัะธัะตัะบะฐั ัะธะปัััะฐัะธั)
- **ะะตะดะฐะบัะธัะพะฒะฐัั**: ะะฐะถะฐัั ะฝะฐ ะทะฐะผะตัะบั โ ะธะทะผะตะฝะธัั โ "ะกะพััะฐะฝะธัั"
- **ะฃะดะฐะปะธัั**: ะะฐะถะฐัั ะธะบะพะฝะบั ะบะพัะทะธะฝั
- **ะะตัะฝััััั ะฝะฐะทะฐะด**: ะะฝะพะฟะบะฐ "ะะฐะทะฐะด" ะธะปะธ ัะธััะตะผะฝะฐั ะฝะฐะฒะธะณะฐัะธั

**UI ัะพััะพัะฝะธั:**
- `Loading` โ ะทะฐะณััะทะบะฐ ะทะฐะผะตัะพะบ
- `Empty` โ ะฝะตั ะทะฐะผะตัะพะบ ะฒ ะบะฐัะตะณะพัะธะธ
- `Success` โ ัะฟะธัะพะบ ะทะฐะผะตัะพะบ
- `Error` โ ะพัะธะฑะบะฐ ะทะฐะณััะทะบะธ

---

## ๐จโ๐ป ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะน ัะธัะธ

ะกะปะตะดัะนัะต ะฟัะธะฝัะธะฟั Feature Slicing:

1. **ะกะพะทะดะฐะนัะต ััััะบัััั ะฟะฐะฟะพะบ:**
```
features/
โโโ [feature-name]/
    โโโ data/
    โโโ domain/
    โโโ presentation/
    โโโ di/
```

2. **Domain Layer:**
   - ะกะพะทะดะฐะนัะต ะผะพะดะตะปะธ ะฒ `domain/model/`
   - ะะฟัะตะดะตะปะธัะต ะธะฝัะตััะตะนั ัะตะฟะพะทะธัะพัะธั ะฒ `domain/repository/`
   - ะกะพะทะดะฐะนัะต use cases ะฒ `domain/usecase/`

3. **Data Layer:**
   - ะะตะฐะปะธะทัะนัะต ัะตะฟะพะทะธัะพัะธะน ะฒ `data/repository/`
   - ะกะพะทะดะฐะนัะต data source ะฒ `data/local/`
   - ะะพะฑะฐะฒััะต SQL ััะตะผั ะฒ `sqldelight/`

4. **Presentation Layer:**
   - ะกะพะทะดะฐะนัะต ViewModel ะฒ `presentation/viewmodel/`
   - ะกะพะทะดะฐะนัะต UI ัะบัะฐะฝั ะฒ `presentation/`

5. **Dependency Injection:**
   - ะกะพะทะดะฐะนัะต Koin ะผะพะดัะปั ะฒ `di/[Feature]Module.kt`
   - ะะฐัะตะณะธัััะธััะนัะต ะฒ `KoinInitializer`

### ะัะฐะฒะธะปะฐ ะบะพะดะฐ

#### ะะผะตะฝะพะฒะฐะฝะธะต:
- **ViewModels**: `[Feature]ViewModel` (ะฝะฐะฟัะธะผะตั, `CategoriesViewModel`)
- **Use Cases**: `[Action][Entity]UseCase` (ะฝะฐะฟัะธะผะตั, `CreateCategoryUseCase`)
- **Repositories**: `[Entity]Repository` (ะฝะฐะฟัะธะผะตั, `CategoryRepository`)
- **Data Sources**: `[Entity]LocalDataSource`

#### Dependency Injection (Koin):
```kotlin
val featureModule = module {
    // Repositories - singleton
    single<CategoryRepository> { 
        CategoryRepositoryImpl(localDataSource = get()) 
    }
    
    // Use Cases - factory
    factory { GetCategoriesUseCase(repository = get()) }
    factory { CreateCategoryUseCase(repository = get()) }
    
    // ViewModels - viewModel scope
    viewModel { CategoriesViewModel(
        getCategoriesUseCase = get(),
        createCategoryUseCase = get(),
        deleteCategoryUseCase = get()
    )}
}
```

#### State Management:
- ะัะฟะพะปัะทัะนัะต `StateFlow` ะดะปั UI ัะพััะพัะฝะธั
- ะัะฟะพะปัะทัะนัะต `SharedFlow` ะดะปั ะพะดะฝะพัะฐะทะพะฒัั ัะพะฑััะธะน
- Sealed interfaces ะดะปั ัะธะฟะพะฑะตะทะพะฟะฐัะฝัั ัะพััะพัะฝะธะน

```kotlin
sealed interface UiState {
    data object Loading : UiState
    data object Empty : UiState
    data class Success(val data: List<Item>) : UiState
    data class Error(val message: String) : UiState
}
```

### ะะฐะฑะพัะฐ ั SQLDelight

#### ะกะพะทะดะฐะฝะธะต ัะฐะฑะปะธัั:
```sql
-- features/example/data/Example.sq
CREATE TABLE Example (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    created_at INTEGER NOT NULL
);
```

#### ะะฐะฟัะพัั:
```sql
selectAll:
SELECT * FROM Example;

selectById:
SELECT * FROM Example WHERE id = :id;

insert:
INSERT INTO Example(name, created_at)
VALUES (?, ?);
```

#### ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒ Kotlin:
```kotlin
class ExampleLocalDataSource(private val database: NotesDatabase) {
    fun getAll(): Flow<List<Example>> {
        return database.exampleQueries
            .selectAll()
            .asFlow()
            .mapToList(Dispatchers.IO)
    }
}
```

### ะะปะฐััะพัะผะตะฝะฝะพ-ัะฟะตัะธัะธัะฝัะน ะบะพะด

ะัะฟะพะปัะทัะนัะต `expect/actual` ะดะปั platform-specific ัะตะฐะปะธะทะฐัะธะน:

```kotlin
// commonMain
expect class PlatformHelper {
    fun getPlatformName(): String
}

// androidMain
actual class PlatformHelper {
    actual fun getPlatformName() = "Android"
}

// iosMain
actual class PlatformHelper {
    actual fun getPlatformName() = "iOS"
}
```

---

## ๐๏ธ ะะฐะทะฐ ะะฐะฝะฝัั

### ะกัะตะผะฐ

#### ะขะฐะฑะปะธัะฐ `Category`

| ะะพะปะต | ะขะธะฟ | ะะฟะธัะฐะฝะธะต |
|------|-----|----------|
| `id` | INTEGER | Primary key, ะฐะฒัะพะธะฝะบัะตะผะตะฝั |
| `name` | TEXT | ะะฐะทะฒะฐะฝะธะต ะบะฐัะตะณะพัะธะธ (NOT NULL) |
| `color` | TEXT | ะฆะฒะตั ะฒ HEX ัะพัะผะฐัะต |
| `created_at` | INTEGER | Timestamp ัะพะทะดะฐะฝะธั (NOT NULL) |
| `updated_at` | INTEGER | Timestamp ะพะฑะฝะพะฒะปะตะฝะธั (NOT NULL) |

#### ะขะฐะฑะปะธัะฐ `Note`

| ะะพะปะต | ะขะธะฟ | ะะฟะธัะฐะฝะธะต |
|------|-----|----------|
| `id` | INTEGER | Primary key, ะฐะฒัะพะธะฝะบัะตะผะตะฝั |
| `category_id` | INTEGER | Foreign key โ Category(id) |
| `title` | TEXT | ะะฐะณะพะปะพะฒะพะบ ะทะฐะผะตัะบะธ (NOT NULL) |
| `content` | TEXT | ะกะพะดะตัะถะธะผะพะต ะทะฐะผะตัะบะธ (NOT NULL) |
| `created_at` | INTEGER | Timestamp ัะพะทะดะฐะฝะธั (NOT NULL) |
| `updated_at` | INTEGER | Timestamp ะพะฑะฝะพะฒะปะตะฝะธั (NOT NULL) |

**ะกะฒัะทะธ:**
- `Note.category_id` โ `Category.id` ั `ON DELETE CASCADE`
- ะะฝะดะตะบั `note_category_idx` ะฝะฐ `category_id` ะดะปั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### Queries

#### Categories:
- `selectAll` โ ะฒัะต ะบะฐัะตะณะพัะธะธ (ัะพััะธัะพะฒะบะฐ ะฟะพ ะดะฐัะต ัะพะทะดะฐะฝะธั)
- `selectById` โ ะบะฐัะตะณะพัะธั ะฟะพ ID
- `insert` โ ัะพะทะดะฐะฝะธะต ะบะฐัะตะณะพัะธะธ
- `update` โ ะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธะธ
- `deleteById` โ ัะดะฐะปะตะฝะธะต ะบะฐัะตะณะพัะธะธ
- `count` โ ะบะพะปะธัะตััะฒะพ ะบะฐัะตะณะพัะธะน

#### Notes:
- `selectAll` โ ะฒัะต ะทะฐะผะตัะบะธ (ัะพััะธัะพะฒะบะฐ ะฟะพ ะดะฐัะต ะพะฑะฝะพะฒะปะตะฝะธั)
- `selectById` โ ะทะฐะผะตัะบะฐ ะฟะพ ID
- `selectByCategory` โ ะทะฐะผะตัะบะธ ะฟะพ ะบะฐัะตะณะพัะธะธ
- `searchNotes` โ ะฟะพะธัะบ ะฟะพ ะทะฐะณะพะปะพะฒะบั ะธ ัะพะดะตัะถะธะผะพะผั
- `insert` โ ัะพะทะดะฐะฝะธะต ะทะฐะผะตัะบะธ
- `update` โ ะพะฑะฝะพะฒะปะตะฝะธะต ะทะฐะผะตัะบะธ
- `deleteById` โ ัะดะฐะปะตะฝะธะต ะทะฐะผะตัะบะธ
- `deleteByCategoryId` โ ัะดะฐะปะตะฝะธะต ะฒัะตั ะทะฐะผะตัะพะบ ะบะฐัะตะณะพัะธะธ
- `count` โ ะบะพะปะธัะตััะฒะพ ะทะฐะผะตัะพะบ
- `countByCategory` โ ะบะพะปะธัะตััะฒะพ ะทะฐะผะตัะพะบ ะฒ ะบะฐัะตะณะพัะธะธ

### ะะธะณัะฐัะธะธ

ะัะธ ะธะทะผะตะฝะตะฝะธะธ ััะตะผั ัะพะทะดะฐะฒะฐะนัะต ะผะธะณัะฐัะธะธ ะฒ `sqldelight/migrations/`:

```sql
-- migrations/1.sqm
ALTER TABLE Note ADD COLUMN is_archived INTEGER NOT NULL DEFAULT 0;

-- migrations/2.sqm
CREATE INDEX note_title_idx ON Note(title);
```

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะะตััััั

### ะะพะบัะผะตะฝัะฐัะธั:
- [Kotlin Multiplatform](https://kotlinlang.org/docs/multiplatform.html)
- [Compose Multiplatform](https://www.jetbrains.com/lp/compose-multiplatform/)
- [SQLDelight](https://cashapp.github.io/sqldelight/)
- [Koin](https://insert-koin.io/)
- [Material Design 3](https://m3.material.io/)

### ะััะธัะตะบัััะฐ:
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [Feature Slicing](https://feature-sliced.design/)

---

## ๐ ะะธัะตะฝะทะธั

ะญัะพ ััะตะฑะฝัะน ะฟัะพะตะบั ะดะปั ะดะตะผะพะฝัััะฐัะธะธ ะฒะพะทะผะพะถะฝะพััะตะน Kotlin Multiplatform.

---

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะัะพะตะบั ัะพะทะดะฐะฝ ะฒ ะพะฑัะฐะทะพะฒะฐัะตะปัะฝัั ัะตะปัั. ะัะธ ะถะตะปะฐะฝะธะธ ะฒะฝะตััะธ ะธะทะผะตะฝะตะฝะธั:

1. Fork ัะตะฟะพะทะธัะพัะธั
2. ะกะพะทะดะฐะนัะต feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit ะธะทะผะตะฝะตะฝะธะน (`git commit -m 'Add some AmazingFeature'`)
4. Push ะฒ branch (`git push origin feature/AmazingFeature`)
5. ะัะบัะพะนัะต Pull Request

---

## ๐ ะะพะฝัะฐะบัั

ะะพ ะฒะพะฟัะพัะฐะผ ะพะฑัะฐัะฐะนัะตัั ัะตัะตะท Issues ะฒ ัะตะฟะพะทะธัะพัะธะธ.

---

**ะกะดะตะปะฐะฝะพ ั โค๏ธ ะธัะฟะพะปัะทัั Kotlin Multiplatform**

