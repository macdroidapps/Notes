# AI Code Review Configuration

# ÐœÐ¾Ð´ÐµÐ»ÑŒ Claude Ð´Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
model: "claude-3-5-sonnet-20241022"
# ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ñ‹:
# - "claude-3-opus-20240229" (Ð±Ð¾Ð»ÐµÐµ Ð¼Ð¾Ñ‰Ð½Ð°Ñ, Ð´Ð¾Ñ€Ð¾Ð¶Ðµ)
# - "claude-3-haiku-20240307" (Ð±Ñ‹ÑÑ‚Ñ€Ð°Ñ, Ð´ÐµÑˆÐµÐ²Ð»Ðµ)

# ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð² Ð´Ð»Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð°
max_tokens: 8000

# Ð¢ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° (0.0 - 1.0)
# ÐœÐµÐ½ÑŒÑˆÐµ = Ð±Ð¾Ð»ÐµÐµ Ð´ÐµÑ‚ÐµÑ€Ð¼Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð¸ ÐºÐ¾Ð½ÑÐµÑ€Ð²Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹
# Ð‘Ð¾Ð»ÑŒÑˆÐµ = Ð±Ð¾Ð»ÐµÐµ ÐºÑ€ÐµÐ°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹
temperature: 0.3

# ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° (Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ/Ð²Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ)
analysis_categories:
  architecture: true
  kotlin_best_practices: true
  compose_best_practices: true
  potential_bugs: true
  performance: true
  code_style: true
  testing: true
  documentation: true
  security: true
  concurrency: true

# ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼
priorities:
  critical:
    - memory_leak
    - null_pointer
    - race_condition
    - security_vulnerability
    - architecture_violation

  important:
    - code_smell
    - performance_issue
    - missing_error_handling
    - poor_naming
    - tight_coupling

  suggestion:
    - refactoring_opportunity
    - documentation_improvement
    - code_duplication
    - minor_style_issue

# ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ñ€Ð¾Ð³Ð¸ Ð´Ð»Ñ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð² review
thresholds:
  min_critical_issues_to_report: 0  # Ð’ÑÐµÐ³Ð´Ð° ÑÐ¾Ð¾Ð±Ñ‰Ð°Ñ‚ÑŒ Ð¾ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ…
  min_important_issues_to_report: 1
  min_suggestions_to_report: 3

# Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹/Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹
ignore_patterns:
  - "**/generated/**"
  - "**/build/**"
  - "**/*.generated.kt"
  - "**/BuildConfig.kt"

# Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
project_specific_rules:
  # Clean Architecture
  - rule: "enforce_layer_separation"
    description: "Presentation Ð½Ðµ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ Ðº Data"
    severity: "critical"

  - rule: "use_cases_required"
    description: "ViewModels Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Use Cases"
    severity: "important"

  - rule: "repository_pattern"
    description: "Data sources Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ð±Ñ‘Ñ€Ð½ÑƒÑ‚Ñ‹ Ð² Repository"
    severity: "important"

  # Kotlin/KMP
  - rule: "immutable_state"
    description: "UI state Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ immutable (data class Ñ val)"
    severity: "important"

  - rule: "coroutine_scope"
    description: "Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ viewModelScope Ð´Ð»Ñ ÐºÐ¾Ñ€ÑƒÑ‚Ð¸Ð½ Ð² ViewModel"
    severity: "critical"

  - rule: "flow_over_livedata"
    description: "ÐŸÑ€ÐµÐ´Ð¿Ð¾Ñ‡Ð¸Ñ‚Ð°Ð¹Ñ‚Ðµ Flow Ð²Ð¼ÐµÑÑ‚Ð¾ LiveData"
    severity: "suggestion"

  # Compose
  - rule: "remember_state"
    description: "Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ state Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ remember"
    severity: "important"

  - rule: "avoid_side_effects"
    description: "ÐÐµ Ð²Ñ‹Ð·Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ suspend Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð² Composable"
    severity: "critical"

# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð°
formatting:
  include_code_snippets: true
  max_snippet_lines: 15
  include_file_links: true
  use_emoji: true
  language: "ru"  # Ð¸Ð»Ð¸ "en"

# ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð½Ð° Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
limits:
  max_diff_size: 20000  # ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
  max_file_content_size: 30000  # ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
  max_project_context_size: 15000  # ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²
  max_files_to_analyze: 10

# Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
analyze_only:
  file_extensions:
    - ".kt"
    - ".kts"

  change_types:
    - "added"
    - "modified"
    # - "deleted"  # ÐÐµ Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹

# Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸
integrations:
  # Detekt (ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð·)
  detekt:
    enabled: false
    config_path: "detekt.yml"

  # ktlint (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)
  ktlint:
    enabled: false
    android: true

  # GitHub Code Scanning
  github_code_scanning:
    enabled: false

# Debug Ñ€ÐµÐ¶Ð¸Ð¼
debug:
  enabled: false
  save_prompts: false
  verbose_logging: false

# ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
cache:
  enabled: true
  cache_project_context: true
  cache_duration_hours: 24

# Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ
notifications:
  # Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÑÑ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼
  critical_only: false

  # Ð’ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒ summary Ð² Ð½Ð°Ñ‡Ð°Ð»Ð¾ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
  include_summary: true

  # Ð”Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¼ÐµÑ‚Ð°Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ (Ð²Ñ€ÐµÐ¼Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°, Ð²ÐµÑ€ÑÐ¸Ñ Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð¸ Ñ‚.Ð´.)
  include_metadata: true

# ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ
auto_actions:
  # ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ñ…
  request_changes_on_critical: false

  # ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ð´Ð¾Ð±Ñ€ÑÑ‚ÑŒ Ð¿Ñ€Ð¸ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼
  auto_approve_clean_pr: false

  # Ð”Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ labels Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²
  add_labels:
    enabled: true
    labels:
      needs_work: "ðŸ”´ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ > 0"
      good_quality: "ðŸŸ¢ Ð½ÐµÑ‚ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ…, < 3 Ð²Ð°Ð¶Ð½Ñ‹Ñ…"
      needs_review: "ðŸŸ¡ Ð²Ð°Ð¶Ð½Ñ‹Ñ… Ð·Ð°Ð¼ÐµÑ‡Ð°Ð½Ð¸Ð¹ > 3"

